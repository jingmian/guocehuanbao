/*
 * Compressed by JSA(www.xidea.org)
 */
window.ycya=window.ycya||{};window.ycya.page={};function checkNull(_){for(var $ in _)if(null==_[$]||_[$]=="")return false;return true}function GetQueryString(A){var _=new RegExp("(^|&)"+A+"=([^&]*)(&|$)"),$=window.location.search.substr(1).match(_);if($!=null)return unescape($[2]);return null}function getContentPath(){var $=document.location.pathname,A=$.substr(1).indexOf("/"),_=$.substr(0,A+1);return _}function getJsPath($){var _=document.scripts;for(var A=_.length;A>0;A--)if(_[A-1].src.indexOf($)>-1)return _[A-1].src.substring(0,_[A-1].src.lastIndexOf("/")+1)}if(!Array.prototype.forEach)Array.prototype.forEach=function(B){var _=this.length;if(typeof B!="function")throw new TypeError();var $=arguments[1];for(var A=0;A<_;A++)if(A in this)B.call($,this[A],A,this)};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(A){var $=this.length>>>0,_=Number(arguments[1])||0;_=(_<0)?Math.ceil(_):Math.floor(_);if(_<0)_+=$;for(;_<$;_++)if(_ in this&&this[_]===A)return _;return-1};function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(_){var $="",G,H,D,E,C,B,A,F=0;_=_utf8_encode(_);while(F<_.length){G=_.charCodeAt(F++);H=_.charCodeAt(F++);D=_.charCodeAt(F++);E=G>>2;C=((G&3)<<4)|(H>>4);B=((H&15)<<2)|(D>>6);A=D&63;if(isNaN(H))B=A=64;else if(isNaN(D))A=64;$=$+_keyStr.charAt(E)+_keyStr.charAt(C)+_keyStr.charAt(B)+_keyStr.charAt(A)}return $};this.decode=function(_){var $="",G,H,D,E,C,B,A,F=0;_=_.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(F<_.length){E=_keyStr.indexOf(_.charAt(F++));C=_keyStr.indexOf(_.charAt(F++));B=_keyStr.indexOf(_.charAt(F++));A=_keyStr.indexOf(_.charAt(F++));G=(E<<2)|(C>>4);H=((C&15)<<4)|(B>>2);D=((B&3)<<6)|A;$=$+String.fromCharCode(G);if(B!=64)$=$+String.fromCharCode(H);if(A!=64)$=$+String.fromCharCode(D)}$=_utf8_decode($);return $};_utf8_encode=function(_){_=_.replace(/\r\n/g,"\n");var A="";for(var B=0;B<_.length;B++){var $=_.charCodeAt(B);if($<128)A+=String.fromCharCode($);else if(($>127)&&($<2048)){A+=String.fromCharCode(($>>6)|192);A+=String.fromCharCode(($&63)|128)}else{A+=String.fromCharCode(($>>12)|224);A+=String.fromCharCode((($>>6)&63)|128);A+=String.fromCharCode(($&63)|128)}}return A};_utf8_decode=function(C){var _="",B=0,$=c1=c2=0;while(B<C.length){$=C.charCodeAt(B);if($<128){_+=String.fromCharCode($);B++}else if(($>191)&&($<224)){c2=C.charCodeAt(B+1);_+=String.fromCharCode((($&31)<<6)|(c2&63));B+=2}else{c2=C.charCodeAt(B+1);c3=C.charCodeAt(B+2);_+=String.fromCharCode((($&15)<<12)|((c2&63)<<6)|(c3&63));B+=3}}var A=_.length-1;for(B=_.length-1;B>=0;B--)if(_.charCodeAt(B)!=0){A=B;break}if(A!=_.length-1)_=_.substring(0,A+1);return _}}(function($){var _=function(_,$){if(arguments.length!=2)throw new Error("Interface constructor called with "+arguments.length+"arguments,but expected exactly 2");this.name=_;this.methods=[];for(var A=0;A<$.length;A++){if(typeof $[A]!=="string")throw new Error("Interface constructor expects mothed names to be"+"passes in as a string");this.methods.push($[A])}};_.prototype={ensureImplements:function(C){if(agruments.length!=1)throw new Error("Interface constructor called with "+arguments.length+"arguments,but expected exactly 1");for(var A=0;A<C.length;A++){var $=C[A];for(var B=0;B<this.motheds.length;B++){var _=this.methods[B];if(!$[_]||!typeof $[_]!=="function")throw new Error("Function Interface.ensureImplements:implements interface"+this.name+",obj.mothed"+_+"was not found")}}}};$.Interface=_})(window);(function(A){var $=1,B=function(){this.map={};this.rmap={}},C=Array.prototype.indexOf||function(_){for(var A=0,$=this.length;A<$;++A)if(this[A]===_)return A;return-1},_=function($,_){setTimeout(function(){$.call(_)},0)};B.prototype={waitFor:function(B,C,H){var G=this.map,I=this.rmap;if(typeof B==="string")B=[B];var E=($++).toString(16);G[E]={waiting:B.slice(0),callback:C,thisObj:H};for(var D=0,A=B.length;D<A;++D){var _=B[D],F=I[_]||(I[_]=[]);F.push(E)}return this},trigger:function(A){if(!A)return this;var C=this.map,D=this.rmap;if(typeof A==="string")A=[A];for(var B=0,_=A.length;B<_;++B){var $=A[B];if(typeof D[$]==="undefined")continue;this._release($,D[$]);delete D[$]}return this},_release:function($,H){var I=this.map,J=this.rmap;for(var G=0,B=H.length;G<B;++G){var A=H[G],E=I[A],D=E.waiting,F=C.call(D,$);D.splice(F,1);if(D.length===0){_(E.callback,E.thisObj);delete I[A]}}}};A.Jas=B})(window);(function(_){var $=function(){this.classcodes=[]};$.prototype={loadFileList:function($,C){var A=[];if(typeof $==="object")A=$;else if(typeof $==="string")A=$.split(",");if(A!=null&&A.length>0){var _=0;for(var B=0;B<A.length;B++)this.loadFile(A[B],function(){_++;if(_==A.length)C()})}},loadFile:function(C,_){var A=this.classcodes;if(!this._fileExist(A,C)){var B=this._getFileType(C),$=null;if(B==".css"){$=document.createElement("link");$.href=C;$.type="text/css";$.rel="stylesheet"}else if(B==".less"){$=document.createElement("link");$.href=C;$.type="text/css";$.rel="stylesheet/less"}else{$=document.createElement("script");$.src=C}_=_||function(){};$.onload=$.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){_();A.push(C)}};document.getElementsByTagName("head")[0].appendChild($)}else _()},_getFileType:function($){if($!=null&&$.length>0)return $.substr($.lastIndexOf(".")).toLowerCase();return""},_fileExist:function($,_){return $.indexOf(_)!=-1}};_.YcyaLoader=$})(window);(function(_,A){if(_.localStorage)return;var $={file:_.location.hostname||"localStorage",keyCache:"localStorageKeyCache",keySplit:",",o:null,init:function(){if(!this.o){try{var B=document.body||document.getElementsByTagName("head")[0]||document.documentElement,C=document.createElement("input");C.type="hidden";C.addBehavior("#default#userData");B.appendChild(C);var $=new Date();$.setDate($.getDate()+365);C.expires=$.toUTCString();this.o=C;_.localStorage.length=this.cacheKey(0,4)}catch(A){return false}}return true},cacheKey:function(D,_){if(!this.init())return;var F=this.o;F.load(this.keyCache);var $=F.getAttribute("keys")||"",B=$?$.split(this.keySplit):[],E=B.length,A=0,C=false;if(_===3)return B;if(_===4)return E;D=D.toLowerCase();for(;A<E;A++)if(B[A]===D){C=true;if(_===2){B.splice(A,1);E--;A--}}if(_===1&&!C)B.push(D);F.setAttribute("keys",B.join(this.keySplit));F.save(this.keyCache)},item:function(_,$){if(this.init()){var B=this.o;if($!==A){this.cacheKey(_,$===null?2:1);B.load(this.file);$===null?B.removeAttribute(_):B.setAttribute(_,$+"");B.save(this.file)}else{B.load(this.file);return B.getAttribute(_)||null}return $}else return null;return $},clear:function(){if(this.init()){var _=this.cacheKey(0,3),A=_.length,$=0;for(;$<A;$++)this.item(_[$],null)}}};_.localStorage={setItem:function(A,_){$.item(A,_);this.length=$.cacheKey(0,4)},getItem:function(_){return $.item(_)},removeItem:function(_){$.item(_,null);this.length=$.cacheKey(0,4)},clear:function(){$.clear();this.length=$.cacheKey(0,4)},length:0,key:function(_){return $.cacheKey(0,3)[_]},isVirtualObject:true}})(window);(function(_,$,A){var B={set:function(A,_){if(this.get(A)!==null)this.remove(A);$.setItem(A,_)},get:function(B){var _=$.getItem(B);return _===A?null:_},remove:function(_){$.removeItem(_)},clear:function(){$.clear()},each:function(_){var B=$.length,A=0,_=_||function(){},C;for(;A<B;A++){C=$.key(A);if(_.call(this,C,this.get(C))===false)break;if($.length<B){B--;A--}}}};_.ycya.wls=_.ycya.wls||B})(window,window.localStorage);(function(window,undefined){var ycyaUtil={isJson:function($){return typeof($)=="object"&&Object.prototype.toString.call($).toLowerCase()=="[object object]"&&!$.length},checkPrivilegeM:function(D,$){var _=$.split(",");if(_==null||_.length==0)return false;for(var B=0;B<_.length;B++){var E=_[B].split("_"),A=0;for(var C=0;C<E.length;C++)if(this.checkPrivilege(D,E[C]))A++;if(A==E.length)return true}return false},checkPrivilege:function(C,_){var A=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","-","_"],D=Math.floor(_/6),E=C.charAt(D),$=0;for(var B=0;B<A.length;B++)if(A[B]==E){$=B;break}return this.getBit($,(_-D*6))==1},getBit:function(_,$){if(this._isInt(_))return(_&(1<<$))>>$;return false},getBitRange:function(B,C,A){if(this._isInt(B)){var $=0;for(var _=C;_<=A;_++)$+=this.getBit(B,_)<<(_-C);return $}return false},_isInt:function($){return typeof $==="number"}};window.ycya.util=window.ycya.util||ycyaUtil;var ycyaDate={cfg:{"y":0,"M":0,"d":0,"H":0,"m":0,"s":0,"S":0},isLeapYear:function($){$=$||new Date();return(0==$.getYear()%4&&(($.getYear()%100!=0)||($.getYear()%400==0)))},diff:function(_,A){A=A||new Date();_=$.extend(this.cfg,_);return new Date((A.getFullYear()+_["y"]),(A.getMonth()+_["M"]),(A.getDate()+_["d"]),(A.getHours()+_["H"]),(A.getMinutes()+_["m"]),(A.getSeconds()+_["s"]),(A.getMilliseconds()+_["S"]))},daysOfMonth:function(_){_=_||new Date();var $=new Date(_.getFullYear(),_.getMonth()+1,0);return $.getDate()},format:function(A,$){$=$||new Date();var B={"M+":$.getMonth()+1,"d+":$.getDate(),"h+":$.getHours(),"m+":$.getMinutes(),"s+":$.getSeconds(),"S":$.getMilliseconds()};if(/(y+)/.test(A))A=A.replace(RegExp.$1,($.getFullYear()+"").substr(4-RegExp.$1.length));for(var _ in B)if(new RegExp("("+_+")").test(A))A=A.replace(RegExp.$1,(RegExp.$1.length==1)?(B[_]):(("00"+B[_]).substr((""+B[_]).length)));return A}};window.ycya.date=window.ycya.date||ycyaDate;var ycyaBrowser={browType:function(){if(this.isIE())return"ie";var _=window.navigator.userAgent,$=function($){return(_.indexOf($)>=0)};if($("Firefox"))return"Firefox";else if($("Chrome"))return"Chrome";else if($("Opera"))return"Opera";else if($("Safari"))return"Safari";else"unknown"},isIE:function(){return window.ActiveXObject||"ActiveXObject"in window},isIE11:function(){return("ActiveXObject"in window)},ieVer:function(){if(this.isIE()){var _=window.navigator.userAgent,$=/(msie\s|trident.*rv:)([\w.]+)/.exec(_.toLocaleLowerCase());return null==$?"0":($[2]||"0")}return"0"}};window.ycya.browser=window.ycya.browser||ycyaBrowser;var ycyaHttp={_cfg:{type:"post",dataType:"json",timeout:15000,headers:{"X-Requested-With":"XMLHttpRequest"},_preProcess:true,token:1},ajax:function(E,B){$.extend(B,this._cfg);if(B.token&&B.token==1){var F=ycya.wls.get("_jwt");if(F)$.extend(B.headers,{"Authorization":"Bearer "+F})}if(this._isCors(document.location,E)){if(this._supportCors()){$.extend(B,{crossDomain:true,xhrFields:{withCredentials:true}});$.ajax(E,B)}else{var A={"url":E,"data":B.data||{},"head":B.headers||{}};if(!ycya.page._cros){var G=new YcyaLoader(),C=this.parseURL(getJsPath("ycya.js"),{parseAll:true}),D=this,_=B;G.loadFile("/"+C.segments[0]+"/res/dep/easyXDM/easyXDM.min.js",function(){var F=$("<div id=\"_crosDiv\" style=\"display:none;\"></div>");$(document.body).append(F);var C=D.parseURL(E,{parseAll:true}),B=new easyXDM.Rpc({isHost:true,remote:C.protocol+"://"+C.host+":"+C.port+"/"+C.segments[0]+"/rpc.html",hash:true,protocol:"1",container:document.getElementById("_crosDiv"),props:{frameBorder:0,scrolling:"no",style:{width:"100%",height:"100px"}}},{local:{echo:function($){if(!ycya.util.isJson($))$=JSON.parse($);_.success($,null,null)}},remote:{cmd:{}}});ycya.page._cros=B;ycya.page._cros.cmd(A)})}else ycya.page._cros.cmd(A)}}else $.ajax(E,B)},setToken:function(token,url,data){var b64=new Base64(),payload=eval("("+b64.decode(token.split(".")[1])+")"),curr=parseInt(new Date().getTime()/1000);ycya.wls.set("_jwt",token);ycya.wls.set("_jwtExp",(curr+(payload.exp-payload.iat))*1000);ycya.wls.set("_jwtUrl",url);ycya.wls.set("_data",JSON.stringify(data));this.tokenTimer()},getLoginData:function(){var $=ycya.wls.get("_data");if($)return JSON.parse($);return null},loginOut:function(){this._clearToken();window.top.location.href=getContentPath()+"/index.html"},tokenTimer:function(){var B=this._getTokenInfo();if(null==B)window.top.location.href=getContentPath()+"/index.html";else{var _=new Date().getTime();if(B.exp-_<1000*60*2)this._getToken(B.url)}var A=this,$=setInterval(function(){var _=A._getTokenInfo(),$=new Date().getTime();if(!_.token)window.top.location.href=getContentPath()+"/index.html";if(_.exp-$<=1000*60*2)A._getToken(_.url)},60000);ycya.page._tokenTimer=$},parseURL:function(C,B){var A=document.createElement("a");A.href=C;var _={protocol:A.protocol.replace(":",""),host:A.hostname,port:A.port};if(B&&B.parseAll&&B.parseAll==true)$.extend(_,{query:A.search,params:(function(){var $={},B=A.search.replace(/^\?/,"").split("&"),C=B.length,D=0,_;for(;D<C;D++){if(!B[D])continue;_=B[D].split("=");$[_[0]]=_[1]}return $})(),file:(A.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:A.hash.replace("#",""),path:A.pathname.replace(/^([^\/])/,"/$1"),relative:(A.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:A.pathname.replace(/^\//,"").split("/")});return _},_getTokenInfo:function(){var A=ycya.wls.get("_jwt"),$=ycya.wls.get("_jwtExp"),_=ycya.wls.get("_jwtUrl");return A?{"token":A,"exp":$,"url":_}:null},_getToken:function(_){var $=this;this.ajax(_,{success:function(B,C,A){if(null!=B&&null!=B.code&&B.code==0){if(ycya.page._tokenTimer){clearInterval(ycya.page._tokenTimer);ycya.page._tokenTimer=null}$.setToken(B.data.token,_,B.data);return}$._clearToken();alert("\u7cfb\u7edf\u9519\u8bef\uff1a\u9519\u8bef\u4ee3\u7801"+B.code+","+B.msg);window.top.location.href=getContentPath()+"/index.html"},error:function(_,A,B){$._clearToken();alert("\u7cfb\u7edf\u9519\u8bef\uff1a"+A);window.top.location.href=getContentPath()+"/index.html"}})},_clearToken:function(){ycya.wls.remove("_jwt");ycya.wls.remove("_jwtExp");ycya.wls.remove("_jwtUrl");ycya.wls.remove("_data")},_supportCors:function(){if(ycya.browser.isIE())return parseFloat(ycya.browser.ieVer())>9;return true},_isCors:function(A,_){var B=this.parseURL(A),$=this.parseURL(_);return B.host!=$.host||B.port!=$.port||B.protocol!=$.protocol}};window.ycya.http=window.ycya.http||ycyaHttp})(window)